<?php

namespace {{ namespace }}\Form\{{ entity_class }};

{% block use_statements %}
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolver;
use Symfony\Component\Form\Extension\Core\Type\EmailType;
use Symfony\Component\Form\Extension\Core\Type\TextType;
use Symfony\Component\Form\Extension\Core\Type\NumberType;
use Symfony\Component\Form\Extension\Core\Type\DateTimeType;
use Symfony\Component\Form\Extension\Core\Type\CheckboxType;
use AppBundle\Entity\{{ entity_class }};
{% endblock use_statements %}

{% block class_definition %}
class AddType extends AbstractType
{% endblock class_definition %}
{
{% block class_body %}
    {%- if fields|length > 0 %}
/**
* {@inheritdoc}
*/
public function buildForm(FormBuilderInterface $builder, array $options)
    {
        $builder

{%- for key , field in fields -%}

{% if field.type == 'DateTimeType' %}
        ->add('{{ key }}', {{ field.type }}::class,[{% if field.nullable == false %} 'required' => true {% else %} 'required' => false {% endif %}, 'mapped' => true ,'widget' => 'single_text',  'format' => 'yyyy-MM-dd'])
{% else %}
    ->add('{{ key }}', {{ field.type }}::class,[{% if field.nullable == false %} 'required' => true {% else %} 'required' => false {% endif %}, 'mapped' => true])
{% endif %}



{%- endfor %}
;

}

public function configureOptions(OptionsResolver $resolver)
{
$resolver->setDefaults([
'data_class' => {{ entity_class }}::class,
]);
}

{% endif %}

{% endblock class_body %}
}
